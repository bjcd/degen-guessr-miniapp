type Win @entity(immutable: true) {
  id: ID! # transaction hash + log index
  tx: Bytes!
  block: BigInt!
  timestamp: BigInt!
  player: Bytes!
  guessedNumber: Int!
  winningNumber: Int!
  amount: BigInt!
  contractAddress: Bytes!
  mode: String!
}

type GameStats @entity(immutable: false) {
  id: ID! # "game-stats"
  totalWins: Int!
  totalPot: BigInt!
  lastUpdated: BigInt!
}

type SpinResult @entity(immutable: true) {
  id: ID! # transaction hash + log index
  tx: Bytes!
  block: BigInt!
  timestamp: BigInt!
  player: Bytes!
  roll: BigInt!
  category: Int!
  payout: BigInt!
  potAfter: BigInt!
}

type SlotPlayerStats @entity(immutable: false) {
  id: ID! # player address
  address: Bytes!
  totalSpins: Int!
  totalWinnings: BigInt!
  lastUpdated: BigInt!
}

type SlotGameStats @entity(immutable: false) {
  id: ID! # "slot-game-stats"
  totalSpins: Int!
  totalPot: BigInt!
  lastUpdated: BigInt!
}
